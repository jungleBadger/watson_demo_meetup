!function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){!function(){"use strict";function e(e,t){for(var n=e.length+t.length,r=new Float32Array(n),o=0,a=0;a<n;)r[a++]=e[o],r[a++]=t[o],o++;return r}function t(e,t){for(var n=new Float32Array(t),r=0,o=e.length,a=0;a<o;a++){var i=e[a];n.set(i,r),r+=i.length}return n}function n(e,t,n){for(var r=n.length,o=0;o<r;o++)e.setUint8(t+o,n.charCodeAt(o))}function r(e){f=window.AudioContext||window.webkitAudioContext,g=new f,d=g.sampleRate,console.log("succcess"),c=g.createGain(),l=g.createMediaStreamSource(e),l.connect(c);i=g.createScriptProcessor(2048,2,2),i.onaudioprocess=function(e){if(s){var t=e.inputBuffer.getChannelData(0),n=e.inputBuffer.getChannelData(1);o.push(new Float32Array(t)),a.push(new Float32Array(n)),u+=2048,console.log("recording")}},c.connect(i),i.connect(g.destination)}var o=[],a=[],i=null,s=!1,u=0,c=null,l=null,d=null,f=null,g=null;document.getElementById("output");navigator.getUserMedia||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),navigator.getUserMedia?navigator.getUserMedia({audio:!0},r,function(e){alert("Error capturing audio.")}):alert("getUserMedia not supported in this browser."),window.onkeydown=function(r){if(82==r.keyCode)s=!0,o.length=a.length=0,u=0;else if(83==r.keyCode){s=!1;var i=t(o,u),c=t(a,u),l=e(i,c),f=new ArrayBuffer(44+2*l.length),g=new DataView(f);n(g,0,"RIFF"),g.setUint32(4,44+2*l.length,!0),n(g,8,"WAVE"),n(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,2,!0),g.setUint32(24,d,!0),g.setUint32(28,4*d,!0),g.setUint16(32,4,!0),g.setUint16(34,16,!0),n(g,36,"data"),g.setUint32(40,2*l.length,!0);for(var w=l.length,v=44,h=0;h<w;h++)g.setInt16(v,32767*l[h],!0),v+=2;var p=new Blob([g],{type:"audio/wav"});console.log(p);var U=(window.URL||window.webkitURL).createObjectURL(p),y=window.document.createElement("a");y.href=U,y.download="output.wav";var m=document.createEvent("Event");m.initEvent("click",!0,!0),y.dispatchEvent(m);var M=new FormData;M.append("audio",p);var E=new XMLHttpRequest;E.withCredentials=!0,E.addEventListener("readystatechange",function(){4===this.readyState&&console.log(this.responseText)}),E.open("POST","http://localhost:6038/test"),E.setRequestHeader("cache-control","no-cache"),E.setRequestHeader("postman-token","b56b0689-c203-2edc-b374-9219299802d4"),E.send(M)}}}()},{}]},{},[1]);